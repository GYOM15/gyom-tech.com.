var L=(u,h)=>()=>(h||u((h={exports:{}}).exports,h),h.exports);var O=L((R,z)=>{/*!
 * Masonry PACKAGED v4.2.2
 * Cascading grid layout library
 * https://masonry.desandro.com
 * MIT License
 * by David DeSandro
 */(function(u,h){typeof define=="function"&&define.amd?define("jquery-bridget/jquery-bridget",["jquery"],function(c){return h(u,c)}):typeof z=="object"&&z.exports?z.exports=h(u,require("jquery")):u.jQueryBridget=h(u,u.jQuery)})(window,function(u,h){function c(l,v,p){function f(g,n,o){var t,i="$()."+l+'("'+n+'")';return g.each(function(r,m){var _=p.data(m,l);if(!_)return void s(l+" not initialized. Cannot call methods, i.e. "+i);var E=_[n];if(!E||n.charAt(0)=="_")return void s(i+" is not a valid method");var b=E.apply(_,o);t=t===void 0?b:t}),t!==void 0?t:g}function y(g,n){g.each(function(o,t){var i=p.data(t,l);i?(i.option(n),i._init()):(i=new v(t,n),p.data(t,l,i))})}p=p||h||u.jQuery,p&&(v.prototype.option||(v.prototype.option=function(g){p.isPlainObject(g)&&(this.options=p.extend(!0,this.options,g))}),p.fn[l]=function(g){if(typeof g=="string"){var n=a.call(arguments,1);return f(this,g,n)}return y(this,g),this},d(p))}function d(l){!l||l&&l.bridget||(l.bridget=c)}var a=Array.prototype.slice,e=u.console,s=typeof e>"u"?function(){}:function(l){e.error(l)};return d(h||u.jQuery),c}),function(u,h){typeof define=="function"&&define.amd?define("ev-emitter/ev-emitter",h):typeof z=="object"&&z.exports?z.exports=h():u.EvEmitter=h()}(typeof window<"u"?window:void 0,function(){function u(){}var h=u.prototype;return h.on=function(c,d){if(c&&d){var a=this._events=this._events||{},e=a[c]=a[c]||[];return e.indexOf(d)==-1&&e.push(d),this}},h.once=function(c,d){if(c&&d){this.on(c,d);var a=this._onceEvents=this._onceEvents||{},e=a[c]=a[c]||{};return e[d]=!0,this}},h.off=function(c,d){var a=this._events&&this._events[c];if(a&&a.length){var e=a.indexOf(d);return e!=-1&&a.splice(e,1),this}},h.emitEvent=function(c,d){var a=this._events&&this._events[c];if(a&&a.length){a=a.slice(0),d=d||[];for(var e=this._onceEvents&&this._onceEvents[c],s=0;s<a.length;s++){var l=a[s],v=e&&e[l];v&&(this.off(c,l),delete e[l]),l.apply(this,d)}return this}},h.allOff=function(){delete this._events,delete this._onceEvents},u}),function(u,h){typeof define=="function"&&define.amd?define("get-size/get-size",h):typeof z=="object"&&z.exports?z.exports=h():u.getSize=h()}(window,function(){function u(y){var g=parseFloat(y),n=y.indexOf("%")==-1&&!isNaN(g);return n&&g}function h(){}function c(){for(var y={width:0,height:0,innerWidth:0,innerHeight:0,outerWidth:0,outerHeight:0},g=0;p>g;g++){var n=v[g];y[n]=0}return y}function d(y){var g=getComputedStyle(y);return g||l("Style returned "+g+". Are you running this code in a hidden iframe on Firefox? See https://bit.ly/getsizebug1"),g}function a(){if(!f){f=!0;var y=document.createElement("div");y.style.width="200px",y.style.padding="1px 2px 3px 4px",y.style.borderStyle="solid",y.style.borderWidth="1px 2px 3px 4px",y.style.boxSizing="border-box";var g=document.body||document.documentElement;g.appendChild(y);var n=d(y);s=Math.round(u(n.width))==200,e.isBoxSizeOuter=s,g.removeChild(y)}}function e(y){if(a(),typeof y=="string"&&(y=document.querySelector(y)),y&&typeof y=="object"&&y.nodeType){var g=d(y);if(g.display=="none")return c();var n={};n.width=y.offsetWidth,n.height=y.offsetHeight;for(var o=n.isBorderBox=g.boxSizing=="border-box",t=0;p>t;t++){var i=v[t],r=g[i],m=parseFloat(r);n[i]=isNaN(m)?0:m}var _=n.paddingLeft+n.paddingRight,E=n.paddingTop+n.paddingBottom,b=n.marginLeft+n.marginRight,x=n.marginTop+n.marginBottom,T=n.borderLeftWidth+n.borderRightWidth,I=n.borderTopWidth+n.borderBottomWidth,W=o&&s,S=u(g.width);S!==!1&&(n.width=S+(W?0:_+T));var C=u(g.height);return C!==!1&&(n.height=C+(W?0:E+I)),n.innerWidth=n.width-(_+T),n.innerHeight=n.height-(E+I),n.outerWidth=n.width+b,n.outerHeight=n.height+x,n}}var s,l=typeof console>"u"?h:function(y){console.error(y)},v=["paddingLeft","paddingRight","paddingTop","paddingBottom","marginLeft","marginRight","marginTop","marginBottom","borderLeftWidth","borderRightWidth","borderTopWidth","borderBottomWidth"],p=v.length,f=!1;return e}),function(u,h){typeof define=="function"&&define.amd?define("desandro-matches-selector/matches-selector",h):typeof z=="object"&&z.exports?z.exports=h():u.matchesSelector=h()}(window,function(){var u=function(){var h=window.Element.prototype;if(h.matches)return"matches";if(h.matchesSelector)return"matchesSelector";for(var c=["webkit","moz","ms","o"],d=0;d<c.length;d++){var a=c[d],e=a+"MatchesSelector";if(h[e])return e}}();return function(h,c){return h[u](c)}}),function(u,h){typeof define=="function"&&define.amd?define("fizzy-ui-utils/utils",["desandro-matches-selector/matches-selector"],function(c){return h(u,c)}):typeof z=="object"&&z.exports?z.exports=h(u,require("desandro-matches-selector")):u.fizzyUIUtils=h(u,u.matchesSelector)}(window,function(u,h){var c={};c.extend=function(e,s){for(var l in s)e[l]=s[l];return e},c.modulo=function(e,s){return(e%s+s)%s};var d=Array.prototype.slice;c.makeArray=function(e){if(Array.isArray(e))return e;if(e==null)return[];var s=typeof e=="object"&&typeof e.length=="number";return s?d.call(e):[e]},c.removeFrom=function(e,s){var l=e.indexOf(s);l!=-1&&e.splice(l,1)},c.getParent=function(e,s){for(;e.parentNode&&e!=document.body;)if(e=e.parentNode,h(e,s))return e},c.getQueryElement=function(e){return typeof e=="string"?document.querySelector(e):e},c.handleEvent=function(e){var s="on"+e.type;this[s]&&this[s](e)},c.filterFindElements=function(e,s){e=c.makeArray(e);var l=[];return e.forEach(function(v){if(v instanceof HTMLElement){if(!s)return void l.push(v);h(v,s)&&l.push(v);for(var p=v.querySelectorAll(s),f=0;f<p.length;f++)l.push(p[f])}}),l},c.debounceMethod=function(e,s,l){l=l||100;var v=e.prototype[s],p=s+"Timeout";e.prototype[s]=function(){var f=this[p];clearTimeout(f);var y=arguments,g=this;this[p]=setTimeout(function(){v.apply(g,y),delete g[p]},l)}},c.docReady=function(e){var s=document.readyState;s=="complete"||s=="interactive"?setTimeout(e):document.addEventListener("DOMContentLoaded",e)},c.toDashed=function(e){return e.replace(/(.)([A-Z])/g,function(s,l,v){return l+"-"+v}).toLowerCase()};var a=u.console;return c.htmlInit=function(e,s){c.docReady(function(){var l=c.toDashed(s),v="data-"+l,p=document.querySelectorAll("["+v+"]"),f=document.querySelectorAll(".js-"+l),y=c.makeArray(p).concat(c.makeArray(f)),g=v+"-options",n=u.jQuery;y.forEach(function(o){var t,i=o.getAttribute(v)||o.getAttribute(g);try{t=i&&JSON.parse(i)}catch(m){return void(a&&a.error("Error parsing "+v+" on "+o.className+": "+m))}var r=new e(o,t);n&&n.data(o,s,r)})})},c}),function(u,h){typeof define=="function"&&define.amd?define("outlayer/item",["ev-emitter/ev-emitter","get-size/get-size"],h):typeof z=="object"&&z.exports?z.exports=h(require("ev-emitter"),require("get-size")):(u.Outlayer={},u.Outlayer.Item=h(u.EvEmitter,u.getSize))}(window,function(u,h){function c(o){for(var t in o)return!1;return t=null,!0}function d(o,t){o&&(this.element=o,this.layout=t,this.position={x:0,y:0},this._create())}function a(o){return o.replace(/([A-Z])/g,function(t){return"-"+t.toLowerCase()})}var e=document.documentElement.style,s=typeof e.transition=="string"?"transition":"WebkitTransition",l=typeof e.transform=="string"?"transform":"WebkitTransform",v={WebkitTransition:"webkitTransitionEnd",transition:"transitionend"}[s],p={transform:l,transition:s,transitionDuration:s+"Duration",transitionProperty:s+"Property",transitionDelay:s+"Delay"},f=d.prototype=Object.create(u.prototype);f.constructor=d,f._create=function(){this._transn={ingProperties:{},clean:{},onEnd:{}},this.css({position:"absolute"})},f.handleEvent=function(o){var t="on"+o.type;this[t]&&this[t](o)},f.getSize=function(){this.size=h(this.element)},f.css=function(o){var t=this.element.style;for(var i in o){var r=p[i]||i;t[r]=o[i]}},f.getPosition=function(){var o=getComputedStyle(this.element),t=this.layout._getOption("originLeft"),i=this.layout._getOption("originTop"),r=o[t?"left":"right"],m=o[i?"top":"bottom"],_=parseFloat(r),E=parseFloat(m),b=this.layout.size;r.indexOf("%")!=-1&&(_=_/100*b.width),m.indexOf("%")!=-1&&(E=E/100*b.height),_=isNaN(_)?0:_,E=isNaN(E)?0:E,_-=t?b.paddingLeft:b.paddingRight,E-=i?b.paddingTop:b.paddingBottom,this.position.x=_,this.position.y=E},f.layoutPosition=function(){var o=this.layout.size,t={},i=this.layout._getOption("originLeft"),r=this.layout._getOption("originTop"),m=i?"paddingLeft":"paddingRight",_=i?"left":"right",E=i?"right":"left",b=this.position.x+o[m];t[_]=this.getXValue(b),t[E]="";var x=r?"paddingTop":"paddingBottom",T=r?"top":"bottom",I=r?"bottom":"top",W=this.position.y+o[x];t[T]=this.getYValue(W),t[I]="",this.css(t),this.emitEvent("layout",[this])},f.getXValue=function(o){var t=this.layout._getOption("horizontal");return this.layout.options.percentPosition&&!t?o/this.layout.size.width*100+"%":o+"px"},f.getYValue=function(o){var t=this.layout._getOption("horizontal");return this.layout.options.percentPosition&&t?o/this.layout.size.height*100+"%":o+"px"},f._transitionTo=function(o,t){this.getPosition();var i=this.position.x,r=this.position.y,m=o==this.position.x&&t==this.position.y;if(this.setPosition(o,t),m&&!this.isTransitioning)return void this.layoutPosition();var _=o-i,E=t-r,b={};b.transform=this.getTranslate(_,E),this.transition({to:b,onTransitionEnd:{transform:this.layoutPosition},isCleaning:!0})},f.getTranslate=function(o,t){var i=this.layout._getOption("originLeft"),r=this.layout._getOption("originTop");return o=i?o:-o,t=r?t:-t,"translate3d("+o+"px, "+t+"px, 0)"},f.goTo=function(o,t){this.setPosition(o,t),this.layoutPosition()},f.moveTo=f._transitionTo,f.setPosition=function(o,t){this.position.x=parseFloat(o),this.position.y=parseFloat(t)},f._nonTransition=function(o){this.css(o.to),o.isCleaning&&this._removeStyles(o.to);for(var t in o.onTransitionEnd)o.onTransitionEnd[t].call(this)},f.transition=function(o){if(!parseFloat(this.layout.options.transitionDuration))return void this._nonTransition(o);var t=this._transn;for(var i in o.onTransitionEnd)t.onEnd[i]=o.onTransitionEnd[i];for(i in o.to)t.ingProperties[i]=!0,o.isCleaning&&(t.clean[i]=!0);o.from&&(this.css(o.from),this.element.offsetHeight),this.enableTransition(o.to),this.css(o.to),this.isTransitioning=!0};var y="opacity,"+a(l);f.enableTransition=function(){if(!this.isTransitioning){var o=this.layout.options.transitionDuration;o=typeof o=="number"?o+"ms":o,this.css({transitionProperty:y,transitionDuration:o,transitionDelay:this.staggerDelay||0}),this.element.addEventListener(v,this,!1)}},f.onwebkitTransitionEnd=function(o){this.ontransitionend(o)},f.onotransitionend=function(o){this.ontransitionend(o)};var g={"-webkit-transform":"transform"};f.ontransitionend=function(o){if(o.target===this.element){var t=this._transn,i=g[o.propertyName]||o.propertyName;if(delete t.ingProperties[i],c(t.ingProperties)&&this.disableTransition(),i in t.clean&&(this.element.style[o.propertyName]="",delete t.clean[i]),i in t.onEnd){var r=t.onEnd[i];r.call(this),delete t.onEnd[i]}this.emitEvent("transitionEnd",[this])}},f.disableTransition=function(){this.removeTransitionStyles(),this.element.removeEventListener(v,this,!1),this.isTransitioning=!1},f._removeStyles=function(o){var t={};for(var i in o)t[i]="";this.css(t)};var n={transitionProperty:"",transitionDuration:"",transitionDelay:""};return f.removeTransitionStyles=function(){this.css(n)},f.stagger=function(o){o=isNaN(o)?0:o,this.staggerDelay=o+"ms"},f.removeElem=function(){this.element.parentNode.removeChild(this.element),this.css({display:""}),this.emitEvent("remove",[this])},f.remove=function(){return s&&parseFloat(this.layout.options.transitionDuration)?(this.once("transitionEnd",function(){this.removeElem()}),void this.hide()):void this.removeElem()},f.reveal=function(){delete this.isHidden,this.css({display:""});var o=this.layout.options,t={},i=this.getHideRevealTransitionEndProperty("visibleStyle");t[i]=this.onRevealTransitionEnd,this.transition({from:o.hiddenStyle,to:o.visibleStyle,isCleaning:!0,onTransitionEnd:t})},f.onRevealTransitionEnd=function(){this.isHidden||this.emitEvent("reveal")},f.getHideRevealTransitionEndProperty=function(o){var t=this.layout.options[o];if(t.opacity)return"opacity";for(var i in t)return i},f.hide=function(){this.isHidden=!0,this.css({display:""});var o=this.layout.options,t={},i=this.getHideRevealTransitionEndProperty("hiddenStyle");t[i]=this.onHideTransitionEnd,this.transition({from:o.visibleStyle,to:o.hiddenStyle,isCleaning:!0,onTransitionEnd:t})},f.onHideTransitionEnd=function(){this.isHidden&&(this.css({display:"none"}),this.emitEvent("hide"))},f.destroy=function(){this.css({position:"",left:"",right:"",top:"",bottom:"",transition:"",transform:""})},d}),function(u,h){typeof define=="function"&&define.amd?define("outlayer/outlayer",["ev-emitter/ev-emitter","get-size/get-size","fizzy-ui-utils/utils","./item"],function(c,d,a,e){return h(u,c,d,a,e)}):typeof z=="object"&&z.exports?z.exports=h(u,require("ev-emitter"),require("get-size"),require("fizzy-ui-utils"),require("./item")):u.Outlayer=h(u,u.EvEmitter,u.getSize,u.fizzyUIUtils,u.Outlayer.Item)}(window,function(u,h,c,d,a){function e(t,i){var r=d.getQueryElement(t);if(!r)return void(v&&v.error("Bad element for "+this.constructor.namespace+": "+(r||t)));this.element=r,p&&(this.$element=p(this.element)),this.options=d.extend({},this.constructor.defaults),this.option(i);var m=++y;this.element.outlayerGUID=m,g[m]=this,this._create();var _=this._getOption("initLayout");_&&this.layout()}function s(t){function i(){t.apply(this,arguments)}return i.prototype=Object.create(t.prototype),i.prototype.constructor=i,i}function l(t){if(typeof t=="number")return t;var i=t.match(/(^\d*\.?\d*)(\w*)/),r=i&&i[1],m=i&&i[2];if(!r.length)return 0;r=parseFloat(r);var _=o[m]||1;return r*_}var v=u.console,p=u.jQuery,f=function(){},y=0,g={};e.namespace="outlayer",e.Item=a,e.defaults={containerStyle:{position:"relative"},initLayout:!0,originLeft:!0,originTop:!0,resize:!0,resizeContainer:!0,transitionDuration:"0.4s",hiddenStyle:{opacity:0,transform:"scale(0.001)"},visibleStyle:{opacity:1,transform:"scale(1)"}};var n=e.prototype;d.extend(n,h.prototype),n.option=function(t){d.extend(this.options,t)},n._getOption=function(t){var i=this.constructor.compatOptions[t];return i&&this.options[i]!==void 0?this.options[i]:this.options[t]},e.compatOptions={initLayout:"isInitLayout",horizontal:"isHorizontal",layoutInstant:"isLayoutInstant",originLeft:"isOriginLeft",originTop:"isOriginTop",resize:"isResizeBound",resizeContainer:"isResizingContainer"},n._create=function(){this.reloadItems(),this.stamps=[],this.stamp(this.options.stamp),d.extend(this.element.style,this.options.containerStyle);var t=this._getOption("resize");t&&this.bindResize()},n.reloadItems=function(){this.items=this._itemize(this.element.children)},n._itemize=function(t){for(var i=this._filterFindItemElements(t),r=this.constructor.Item,m=[],_=0;_<i.length;_++){var E=i[_],b=new r(E,this);m.push(b)}return m},n._filterFindItemElements=function(t){return d.filterFindElements(t,this.options.itemSelector)},n.getItemElements=function(){return this.items.map(function(t){return t.element})},n.layout=function(){this._resetLayout(),this._manageStamps();var t=this._getOption("layoutInstant"),i=t!==void 0?t:!this._isLayoutInited;this.layoutItems(this.items,i),this._isLayoutInited=!0},n._init=n.layout,n._resetLayout=function(){this.getSize()},n.getSize=function(){this.size=c(this.element)},n._getMeasurement=function(t,i){var r,m=this.options[t];m?(typeof m=="string"?r=this.element.querySelector(m):m instanceof HTMLElement&&(r=m),this[t]=r?c(r)[i]:m):this[t]=0},n.layoutItems=function(t,i){t=this._getItemsForLayout(t),this._layoutItems(t,i),this._postLayout()},n._getItemsForLayout=function(t){return t.filter(function(i){return!i.isIgnored})},n._layoutItems=function(t,i){if(this._emitCompleteOnItems("layout",t),t&&t.length){var r=[];t.forEach(function(m){var _=this._getItemLayoutPosition(m);_.item=m,_.isInstant=i||m.isLayoutInstant,r.push(_)},this),this._processLayoutQueue(r)}},n._getItemLayoutPosition=function(){return{x:0,y:0}},n._processLayoutQueue=function(t){this.updateStagger(),t.forEach(function(i,r){this._positionItem(i.item,i.x,i.y,i.isInstant,r)},this)},n.updateStagger=function(){var t=this.options.stagger;return t==null?void(this.stagger=0):(this.stagger=l(t),this.stagger)},n._positionItem=function(t,i,r,m,_){m?t.goTo(i,r):(t.stagger(_*this.stagger),t.moveTo(i,r))},n._postLayout=function(){this.resizeContainer()},n.resizeContainer=function(){var t=this._getOption("resizeContainer");if(t){var i=this._getContainerSize();i&&(this._setContainerMeasure(i.width,!0),this._setContainerMeasure(i.height,!1))}},n._getContainerSize=f,n._setContainerMeasure=function(t,i){if(t!==void 0){var r=this.size;r.isBorderBox&&(t+=i?r.paddingLeft+r.paddingRight+r.borderLeftWidth+r.borderRightWidth:r.paddingBottom+r.paddingTop+r.borderTopWidth+r.borderBottomWidth),t=Math.max(t,0),this.element.style[i?"width":"height"]=t+"px"}},n._emitCompleteOnItems=function(t,i){function r(){_.dispatchEvent(t+"Complete",null,[i])}function m(){b++,b==E&&r()}var _=this,E=i.length;if(!i||!E)return void r();var b=0;i.forEach(function(x){x.once(t,m)})},n.dispatchEvent=function(t,i,r){var m=i?[i].concat(r):r;if(this.emitEvent(t,m),p)if(this.$element=this.$element||p(this.element),i){var _=p.Event(i);_.type=t,this.$element.trigger(_,r)}else this.$element.trigger(t,r)},n.ignore=function(t){var i=this.getItem(t);i&&(i.isIgnored=!0)},n.unignore=function(t){var i=this.getItem(t);i&&delete i.isIgnored},n.stamp=function(t){t=this._find(t),t&&(this.stamps=this.stamps.concat(t),t.forEach(this.ignore,this))},n.unstamp=function(t){t=this._find(t),t&&t.forEach(function(i){d.removeFrom(this.stamps,i),this.unignore(i)},this)},n._find=function(t){return t?(typeof t=="string"&&(t=this.element.querySelectorAll(t)),t=d.makeArray(t)):void 0},n._manageStamps=function(){this.stamps&&this.stamps.length&&(this._getBoundingRect(),this.stamps.forEach(this._manageStamp,this))},n._getBoundingRect=function(){var t=this.element.getBoundingClientRect(),i=this.size;this._boundingRect={left:t.left+i.paddingLeft+i.borderLeftWidth,top:t.top+i.paddingTop+i.borderTopWidth,right:t.right-(i.paddingRight+i.borderRightWidth),bottom:t.bottom-(i.paddingBottom+i.borderBottomWidth)}},n._manageStamp=f,n._getElementOffset=function(t){var i=t.getBoundingClientRect(),r=this._boundingRect,m=c(t),_={left:i.left-r.left-m.marginLeft,top:i.top-r.top-m.marginTop,right:r.right-i.right-m.marginRight,bottom:r.bottom-i.bottom-m.marginBottom};return _},n.handleEvent=d.handleEvent,n.bindResize=function(){u.addEventListener("resize",this),this.isResizeBound=!0},n.unbindResize=function(){u.removeEventListener("resize",this),this.isResizeBound=!1},n.onresize=function(){this.resize()},d.debounceMethod(e,"onresize",100),n.resize=function(){this.isResizeBound&&this.needsResizeLayout()&&this.layout()},n.needsResizeLayout=function(){var t=c(this.element),i=this.size&&t;return i&&t.innerWidth!==this.size.innerWidth},n.addItems=function(t){var i=this._itemize(t);return i.length&&(this.items=this.items.concat(i)),i},n.appended=function(t){var i=this.addItems(t);i.length&&(this.layoutItems(i,!0),this.reveal(i))},n.prepended=function(t){var i=this._itemize(t);if(i.length){var r=this.items.slice(0);this.items=i.concat(r),this._resetLayout(),this._manageStamps(),this.layoutItems(i,!0),this.reveal(i),this.layoutItems(r)}},n.reveal=function(t){if(this._emitCompleteOnItems("reveal",t),t&&t.length){var i=this.updateStagger();t.forEach(function(r,m){r.stagger(m*i),r.reveal()})}},n.hide=function(t){if(this._emitCompleteOnItems("hide",t),t&&t.length){var i=this.updateStagger();t.forEach(function(r,m){r.stagger(m*i),r.hide()})}},n.revealItemElements=function(t){var i=this.getItems(t);this.reveal(i)},n.hideItemElements=function(t){var i=this.getItems(t);this.hide(i)},n.getItem=function(t){for(var i=0;i<this.items.length;i++){var r=this.items[i];if(r.element==t)return r}},n.getItems=function(t){t=d.makeArray(t);var i=[];return t.forEach(function(r){var m=this.getItem(r);m&&i.push(m)},this),i},n.remove=function(t){var i=this.getItems(t);this._emitCompleteOnItems("remove",i),i&&i.length&&i.forEach(function(r){r.remove(),d.removeFrom(this.items,r)},this)},n.destroy=function(){var t=this.element.style;t.height="",t.position="",t.width="",this.items.forEach(function(r){r.destroy()}),this.unbindResize();var i=this.element.outlayerGUID;delete g[i],delete this.element.outlayerGUID,p&&p.removeData(this.element,this.constructor.namespace)},e.data=function(t){t=d.getQueryElement(t);var i=t&&t.outlayerGUID;return i&&g[i]},e.create=function(t,i){var r=s(e);return r.defaults=d.extend({},e.defaults),d.extend(r.defaults,i),r.compatOptions=d.extend({},e.compatOptions),r.namespace=t,r.data=e.data,r.Item=s(a),d.htmlInit(r,t),p&&p.bridget&&p.bridget(t,r),r};var o={ms:1,s:1e3};return e.Item=a,e}),function(u,h){typeof define=="function"&&define.amd?define(["outlayer/outlayer","get-size/get-size"],h):typeof z=="object"&&z.exports?z.exports=h(require("outlayer"),require("get-size")):u.Masonry=h(u.Outlayer,u.getSize)}(window,function(u,h){var c=u.create("masonry");c.compatOptions.fitWidth="isFitWidth";var d=c.prototype;return d._resetLayout=function(){this.getSize(),this._getMeasurement("columnWidth","outerWidth"),this._getMeasurement("gutter","outerWidth"),this.measureColumns(),this.colYs=[];for(var a=0;a<this.cols;a++)this.colYs.push(0);this.maxY=0,this.horizontalColIndex=0},d.measureColumns=function(){if(this.getContainerWidth(),!this.columnWidth){var a=this.items[0],e=a&&a.element;this.columnWidth=e&&h(e).outerWidth||this.containerWidth}var s=this.columnWidth+=this.gutter,l=this.containerWidth+this.gutter,v=l/s,p=s-l%s,f=p&&1>p?"round":"floor";v=Math[f](v),this.cols=Math.max(v,1)},d.getContainerWidth=function(){var a=this._getOption("fitWidth"),e=a?this.element.parentNode:this.element,s=h(e);this.containerWidth=s&&s.innerWidth},d._getItemLayoutPosition=function(a){a.getSize();var e=a.size.outerWidth%this.columnWidth,s=e&&1>e?"round":"ceil",l=Math[s](a.size.outerWidth/this.columnWidth);l=Math.min(l,this.cols);for(var v=this.options.horizontalOrder?"_getHorizontalColPosition":"_getTopColPosition",p=this[v](l,a),f={x:this.columnWidth*p.col,y:p.y},y=p.y+a.size.outerHeight,g=l+p.col,n=p.col;g>n;n++)this.colYs[n]=y;return f},d._getTopColPosition=function(a){var e=this._getTopColGroup(a),s=Math.min.apply(Math,e);return{col:e.indexOf(s),y:s}},d._getTopColGroup=function(a){if(2>a)return this.colYs;for(var e=[],s=this.cols+1-a,l=0;s>l;l++)e[l]=this._getColGroupY(l,a);return e},d._getColGroupY=function(a,e){if(2>e)return this.colYs[a];var s=this.colYs.slice(a,a+e);return Math.max.apply(Math,s)},d._getHorizontalColPosition=function(a,e){var s=this.horizontalColIndex%this.cols,l=a>1&&s+a>this.cols;s=l?0:s;var v=e.size.outerWidth&&e.size.outerHeight;return this.horizontalColIndex=v?s+a:this.horizontalColIndex,{col:s,y:this._getColGroupY(s,a)}},d._manageStamp=function(a){var e=h(a),s=this._getElementOffset(a),l=this._getOption("originLeft"),v=l?s.left:s.right,p=v+e.outerWidth,f=Math.floor(v/this.columnWidth);f=Math.max(0,f);var y=Math.floor(p/this.columnWidth);y-=p%this.columnWidth?0:1,y=Math.min(this.cols-1,y);for(var g=this._getOption("originTop"),n=(g?s.top:s.bottom)+e.outerHeight,o=f;y>=o;o++)this.colYs[o]=Math.max(n,this.colYs[o])},d._getContainerSize=function(){this.maxY=Math.max.apply(Math,this.colYs);var a={height:this.maxY};return this._getOption("fitWidth")&&(a.width=this._getContainerFitWidth()),a},d._getContainerFitWidth=function(){for(var a=0,e=this.cols;--e&&this.colYs[e]===0;)a++;return(this.cols-a)*this.columnWidth-this.gutter},d.needsResizeLayout=function(){var a=this.containerWidth;return this.getContainerWidth(),a!=this.containerWidth},c})});export default O();
